{"version":3,"file":"static/js/286.bb6cf34d.chunk.js","mappings":"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","sources":["pages/Login/Login.tsx","pages/Login/services/tryLogin.ts","utilities/Valid.ts","../javascript/esm|C:/Users/Admin/Desktop/Programacion/Mis Proyectos/Proyecto 2/facturador/facturador-masmas/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../javascript/esm|C:/Users/Admin/Desktop/Programacion/Mis Proyectos/Proyecto 2/facturador/facturador-masmas/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\n//Servicios.\nimport tryLogin from \"./services/tryLogin\";\n\n//Utilidades.\nimport Valid from \"utilities/Valid\";\n\n//Componentes de formulario.\nimport {Form, Field, Message, Button} from 'components/formComponents';\nimport { FlexDiv } from \"components/wrappers\";\nimport { Loading } from \"components/standalone\";\n\n/**Un formulario para iniciar sesión.*/\nexport default function Login(): JSX.Element {\n\n  const [usernameOrEmail, setUser] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  async function submit(): Promise<void> {\n    if (!(Valid.names(usernameOrEmail) || Valid.email(usernameOrEmail)) && !Valid.password(password))\n    return setError(\"Usuario o contraseña incorrecta\");\n \n    setLoading(true);\n    const response = await tryLogin(usernameOrEmail, password);\n    setLoading(false);\n    if (!response.ok) return setError(response.message);\n    setError(\"\");\n  };\n\n\n  return (\n    <Form onSubmit={submit} title=\"Iniciar sesión\">\n\n      <Field label=\"Nombre o correo electrónico\" bind={[usernameOrEmail, setUser]} />\n      <Field label=\"Contraseña\" type=\"password\" bind={[password, setPassword]} />\n\n      <Message type=\"error\" message={error} />\n\n      {loading?<Loading />:<Button type=\"submit\">Ingresar</Button>}\n\n      \n      \n      <FlexDiv justify='space-between'>\n\n        {/* TODO: implementar función \"olvidé mi contraseña\"\n        <a href=\"about:blank\" target=\"_blank\" \n        style={{margin:'1rem 0'}}>Olvidé mi contraseña</a> */}\n\n        <Link to=\"/registrarse\" style={{ margin: '1rem 0'}}>\n          Crea una nueva cuenta</Link>\n        </FlexDiv>\n      \n\n    </Form>\n  );\n}","import Response from 'models/Response';\nimport ajax from 'ports/ajax';\nimport setSession from 'services/setSession';\n\n/** Trata de iniciar sesión con los credenciales proporcionados.*/\nexport default async function tryLogin(usernameOrEmail: string, password: string): Promise<Response> {\n  const response = await ajax(\"POST\", \"auth/accounts/log-in\", false, \n  JSON.stringify({\n    usernameOrEmail: usernameOrEmail.trim(),\n    password:        password.trim(),\n  }))\n\n  if (response.status === 200) {\n    setSession(response.content);\n    \n    window.location.reload();\n  }\n  if (response.status === 400)\n  return {...response, message: \"Usuario o contraseña incorrecta\"};\n\n  return response;\n  \n}","/**\n * Define métodos de validación de datos.\n * Cada método devuelve un boolean significando la validez del dato argumentado.\n * Opcionalmente llama a funciones pasando como argumento un mensaje de error.\n*/\nexport default class Valid {\n  public static names(name: string, setError?: Function): boolean {\n    if (name?.trim().length <= 20 && name.trim().length >= 3) return true;\n    if (setError) setError(\"El nombre debe ser de entre 3 y 20 caracteres\");\n    return false;\n  }\n\n  public static email(email: string, setError?: Function): boolean {\n    if (/^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(email)) return true;\n    if (setError) setError(\"Ingrese una dirección válida de email\");\n    return false;\n  }\n\n  public static password(password: string, setError?: Function): boolean {\n    if (password?.length <= 40 && password.length >= 8) return true;\n    if (setError) setError(\"La contraseña debe ser de entre 8 y 40 caracteres\");\n    return false;\n  }\n\n  public static image(image: File, setError?: Function):boolean {\n    if (!image) return true;\n    if (image?.size < 2097152) return true;\n    if (setError) setError(\"La imágen no debe superar los 2MB\");\n    return false;\n  }\n\n  public static CUIT(CUIT: string, setError?: Function): boolean {\n    CUIT = CUIT?.replace(/ |\\.|-/g, \"\");\n    if (/^[0-9]{2}[1-9][0-9]{7}[0-9]$/.test(CUIT)) return true;\n    if (setError) setError(\"Ingrese una clave válida\");\n    return false;\n\n  }\n\n  public static sellConditions(conditions: string, setError?: Function): boolean {\n    if (\"Al contado Cuenta corriente Cheque Pagaré Otro\") return true;\n    if (setError) setError(\"Las condiciones de venta deben ser: Al contado, Cuenta corriente, Cheque, Pagaré u Otro\");\n    return false;\n\n  }\n\n  public static vatCategory(vatCategory: string, setError?: Function): boolean {\n    if ( vatCategory === \"Responsable Monotributista\" \n      || vatCategory === \"Responsable Inscripto\"\n      || vatCategory === \"Consumidor Final\"\n      || vatCategory === \"Sujeto Exento\"\n    ) return true;\n    if (setError) setError(\"Seleccione una categoría\");\n    return false;\n  }\n\n  public static address(address: string): boolean {\n    return address?.length <= 40 && address.length >= 4;\n  }\n\n  public static postalCode(postalCode: string, setError?: Function): boolean {\n    if  (/^\\d{4}$/.test(postalCode)) return true;\n    if (setError) setError(\"Ingrese un código postal de 4 dígitos\");\n    return false;\n  }\n\n  public static phone(phone: string, setError?: Function): boolean {\n    phone = phone?.replace(/ |\\.|-/g, \"\");\n    if (phone?.trim().length === 0) return true;\n    if (/^\\d{10}$/.test(phone)) return true;\n    if (setError) setError(\"Ingrese un número telefónico de 10 dígitos\");\n    return false;\n  }\n\n  public static website(url: string, setError?: Function): boolean {\n    if (url?.trim().length === 0) return true;\n    var regexp = /^(?:(?:https?|ftp):\\/\\/)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:\\/\\S*)?$/;\n    if (regexp.test(url)) return true;\n    if (setError) setError(\"Ingrese un URL válido\");\n    return false;\n  }\n\n  public static addressNumber(addressNumber: number, setError?: Function): boolean {\n    if (/^[1-9]{1}\\d{0,4}$/.test(addressNumber?.toLocaleString())) return true;\n    if (setError) setError(\"Ingrese un número de dirección\");\n    return false;\n  }\n\n  public static addressHeight(addressHeight: string, setError?: Function): boolean {\n    if (/^[\\-]?\\d{1,3}$/.test(addressHeight)) return true;\n    if (setError) setError(\"Ingrese una altura válida\");\n    return false;\n  }\n\n  public static hexColor(hexColor: string, setError?: Function): boolean {\n    if (/^#[\\da-f]{6}$/.test(hexColor)) return true;\n    if (setError) setError(\"Ingrese un color válido.\");\n    return false;\n  }\n\n  public static date(date: string, setError?: Function): boolean {\n    if (/^\\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/.test(date)) return true;\n    if (setError) setError(\"Ingrese una fecha válida.\");\n    return false;\n  }\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}"],"names":["Login","useState","usernameOrEmail","setUser","password","setPassword","error","setError","loading","setLoading","Valid","tryLogin","response","ok","message","onSubmit","title","label","bind","type","justify","to","style","margin","ajax","JSON","stringify","trim","status","setSession","content","window","location","reload","name","length","email","test","image","size","CUIT","replace","conditions","vatCategory","address","postalCode","phone","url","addressNumber","toLocaleString","addressHeight","hexColor","date","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}